typeof String.prototype.startsWith!="function"&&(String.prototype.startsWith=function(n){return this.slice(0,n.length)===n});typeof String.prototype.endsWith!="function"&&(String.prototype.endsWith=function(n){return this.slice(-n.length)===n});$.fn.removeClassPrefix=function(n){return this.each(function(t,i){var r=i.className.split(" ").filter(function(t){return t.lastIndexOf(n,0)!==0});i.className=r.join(" ")}),this};var IBI=function(){var t="",i="",r="",n=null;return r+='<div class="modal fade" data-backdrop="static" data-keyboard="false"><div class="processing-modal modal-content">',r+='<div class="modal-header text-center"><h4 class="modal-title">|TITLE|<\/h4><\/div>',r+='<div class="modal-body text-center"><img src="\\images\\left_loading.gif" style="margin-top:50px;"><img src="\\images\\right_loading.gif" style="margin-top:50px;"><\/div>',r+="<\/div><\/div>",t+='<div class="modal fade"><div class="modal-dialog"><div class="modal-content">',t+='<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button><h4 class="modal-title">|TITLE|<\/h4><\/div>',t+='<div class="modal-body"><div class="row v-center"><div class="col-xs-3"><h1><span class="label label-danger"><i class="fa fa-exclamation-triangle"><\/i><\/span><\/h1><\/div><div class="col-xs-9"><label>|ERROR|<\/label><\/div><\/div><\/div>',t+='<div class="modal-footer"><button type="button" class="btn btn-primary" data-dismiss="modal">Ok<\/button><\/div>',t+="<\/div><\/div><\/div>",i+='<div class="modal fade"><div class="modal-dialog"><div class="modal-content">',i+='<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button><h4 class="modal-title">|TITLE|<\/h4><\/div>',i+='<div class="modal-body"><div class="row v-center"><div class="col-xs-3"><h1><span class="label label-warning"><i class="fa fa-info-circle"><\/i><\/span><\/h1><\/div><div class="col-xs-9"><label>|MESSAGE|<\/label><\/div><\/div><\/div>',i+='<div class="modal-footer"><button type="button" class="btn btn-primary" data-dismiss="modal">Ok<\/button><\/div>',i+="<\/div><\/div><\/div>",{Impersonate:{UpdateImpersonation:function(n){window.parent.postMessage({Event:"UpdateImpersonation",NewPayeeId:n},"*")}},External:{SendUrl:function(n,t){window.parent.postMessage({Event:"NewUrl",RelativePath:t,NewTitle:n},"*")},SendFullUrl:function(n,t){window.parent.postMessage({Event:"NewUrl",FullUrl:t,NewTitle:n},"*")},HiddenMenu:function(){window.parent.postMessage({Event:"HiddenMenu"},"*")},Unauthorize:function(){window.parent.postMessage({Event:"Unauthorize"},"*")},Redirect:function(n){window.parent.postMessage({Event:"Redirect",NewUrl:n},"*")},YesNoBox:function(n,t){window.parent.postMessage({Event:"YesNoBox",Title:n,Message:t},"*")},MessageBox:function(n,t){window.parent.postMessage({Event:"MessageBox",Title:n,Message:t},"*")},ShowPleaseWait:function(){window.parent.postMessage({Event:"ShowPleaseWait"},"*")},HidePleaseWait:function(){window.parent.postMessage({Event:"HidePleaseWait"},"*")}},Dates:{FromESTToCurrentUserTime:function(n){var t=moment(n).format("YYYY-MM-DDTHH:mm:00-05:00");return moment(t).format("MM/DD/YYYY hh:mm A")},GetNowString:function(){return moment().format("MM/DD/YYYY hh:mm A")},ToString:function(n){return moment(n).format("MM/DD/YYYY hh:mm A")},FromUTCToCurrentUserTime:function(n){var t=moment(n).format("YYYY-MM-DDTHH:mm:00-00:00");return moment(t).format("MM/DD/YYYY hh:mm A")}},Reports:{ClearCache:function(){for(var t,n=0,i=localStorage.length;n<i;++n)t=localStorage.key(n),IBI.Utils.IsNotNull(t)&&t.startsWith("MyReports")&&localStorage.removeItem(t)}},Form:{IsSuccess:function(n){return IBI.Utils.IsNotNull(n.IsSuccessful)&&n.IsSuccessful==!0},GetSuccessfulObject:function(n){return IBI.Utils.IsNotNull(n.OutputData)?n.OutputData:null},ValidateHiddenFields:function(){$.validator.setDefaults({ignore:[]})},SetupValidation:function(){$.validator.unobtrusive.parse();$.validator.unobtrusive.parse(document)},IsFormValid:function(n,t){var r=IBI.UI.GetJqueryId(n),i=!0;return t!==undefined&&(i=t.call()),$(r).valid()&&i},PostMultiPartForm:function(n,t,i){var r=IBI.UI.GetJqueryId(n),u,f=$(r).attr("action");$(r).attr("enctype")==="multipart/form-data"&&(u=new FormData($(r).get(0)));$.ajax({type:"POST",url:f,data:u,contentType:!1,processData:!1,success:t,error:i})},PostToActionWithJsonObject:function(n,t,i){$.ajax({type:"POST",url:n,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(t),success:i,traditional:!0})},GetFromAction:function(n,t,i,r,u){var f=IBI.Utils.CreateMVCUrl(n,t,i,r);$.get(f,u)},ValidateSession:function(n,t,i){"undefined"!=typeof t&&"undefined"!=typeof i&&(n=i.responseText);return/::SESSION EXPIRED::/.test(n)?(window.location="/Account/Login?message="+encodeURIComponent("Your session has expired please log back in to continue")+"&ReturnUrl="+encodeURIComponent(window.location.pathname),!1):!0}},Utils:{CreateStaticContentUrl:function(n,t){return t.startsWith("~")&&(t=t.substring(1)),t.startsWith("/")&&(t=t.substring(1)),"/Content/PluginContent/"+n+"/"+t},CreateUrlParameter:function(n,t){return{Name:n,Value:t}},CreateMVCUrl:function(n,t,i,r){var u="",e=i.toLowerCase()==="index"?"":i,f;if(r!==null)for(f=0;f<r.length;++f)u.length>0&&(u+="&"),u+=r[f].Name+"="+r[f].Value;return u.length>0&&(u="?"+u),"/"+(n!==""?n+"/":"")+t+(e.length>0?"/"+e+"/":"")+u},CreateIdMVCUrl:function(n,t,i,r){var u=[];return u.push(this.CreateUrlParameter("id",r)),this.CreateMVCUrl(n,t,i,u)},Redirect:function(n,t,i,r){var u=this.CreateMVCUrl(n,t,i,r);window.location.href=u},RedirectId:function(n,t,i,r){var u=this.CreateIdMVCUrl(n,t,i,r);window.location.href=u},IsNotNull:function(n){return n!==null&&n!==undefined},IsNull:function(n){return n===null||n===undefined},IsEmpty:function(n){return n===""},IsNotEmpty:function(n){return n!==""},IsInArray:function(n,t){return $.inArray(n,t)!==-1},RefreshPage:function(){location.reload()},JavascriptDateToEnglishDate:function(n){return moment(new Date(parseInt(n.substr(6)))).format("MM/DD/YYYY")},JavascriptDateToEnglishDateTime:function(n){return moment(new Date(parseInt(n.substr(6)))).format("MM/DD/YYYY h:mm:ss a")}},CONST:{StringEmpty:""},BootstrapTable:{GetUniqueRow:function(n,t){return $(IBI.UI.GetJqueryId(n)).bootstrapTable("getRowByUniqueId",t)},UpdateRow:function(n,t,i){$(IBI.UI.GetJqueryId(n)).bootstrapTable("updateRow",{index:t,row:i})},RemoveRow:function(n,t,i){this.RemoveRows(n,t,[i])},RemoveRows:function(n,t,i){$(IBI.UI.GetJqueryId(n)).bootstrapTable("remove",{field:t,values:i})},GetSelections:function(n){return $(IBI.UI.GetJqueryId(n)).bootstrapTable("getSelections")},OnLoad:function(n,t){$(IBI.UI.GetJqueryId(n)).on("load-success.bs.table",t)},Refresh:function(n,t){var i=IBI.UI.GetJqueryId(n);t===null||t===undefined?$(i).bootstrapTable("refresh"):$(i).bootstrapTable("refresh",{url:t})},GetData:function(n){var t=IBI.UI.GetJqueryId(n);return $(t).bootstrapTable("getData")},AddDataTo:function(n,t){$(IBI.UI.GetJqueryId(n)).bootstrapTable("append",t)},IsInCardView:function(n){var t=IBI.UI.GetJqueryId(n),i=$(t).bootstrapTable("getOptions");return i.cardView}},TokenField:{GetTokens:function(n){var t=IBI.UI.GetJqueryId(n);return $(t).tokenfield("getTokens")},GetActiveToken:function(n){var t=IBI.UI.GetJqueryId(n);return $(t).tokenfield("getTokens",!0)},SetDataTo:function(n,t){$(IBI.UI.GetJqueryId(n)).tokenfield("setTokens",t)},DisableToken:function(n){$(IBI.UI.GetJqueryId(n)).tokenfield("disable")},EnableToken:function(n){$(IBI.UI.GetJqueryId(n)).tokenfield("enable")},ReadonlyToken:function(n){$(IBI.UI.GetJqueryId(n)).tokenfield("readonly")},WriteableToken:function(n){$(IBI.UI.GetJqueryId(n)).tokenfield("writeable")}},UI:{EncodeString:function(n){return encodeURIComponent(n)},DecodeString:function(n){return decodeURIComponent(n)},PushOrder:function(n,t,i){$(IBI.UI.GetJqueryId(n)).append('<li  class="orderQuickFilter"><a href="'+i+'"><span>'+t+"<\/span><\/a><\/li>")},ClearValidationErrorsOnFormChanges:function(n){var t=this.GetJqueryId(n);$(t).on("keyup change propertychange","input.input-validation-error, input.valid, textarea.input-validation-error, textarea.valid, select.input-validation-error, select.valid",function(){$(t).valid()?$(".validation-summary-errors").addClass("hidden"):$(".validation-summary-errors").removeClass("hidden")})},ShowTitleWait:function(t){n!==null&&this.HidePleaseWait();n=null;var i=r.replace("|TITLE|",t);n=$(i);n.modal()},ShowWaitDialog:function(n){this.ShowTitleWait(n)},ShowPleaseWait:function(){this.ShowTitleWait("Processing..")},HidePleaseWait:function(){n!==null&&n.modal("hide")},ShowError:function(i,r){n!==null&&this.HidePleaseWait();n=null;var u=t.replace("|ERROR|",i).replace("|TITLE|",r);n=$(u);n.modal()},ShowInfomation:function(t,r){n!==null&&this.HidePleaseWait();n=null;var u=i.replace("|MESSAGE|",t).replace("|TITLE|",r);n=$(u);n.modal()},ShowWaitDialogAndHideModal:function(n,t){this.HideBootStrapModal(t);this.ShowWaitDialog(n)},HideWaitDialogAndShowModal:function(n){this.ShowBootStrapModal(n);this.HidePleaseWait()},GetJqueryId:function(n){return n.startsWith("#")?n:"#"+n},GetJqueryCSSClass:function(n){return n.startsWith(".")?n:"."+n},GetHiddenValue:function(n){return $(this.GetJqueryId(n)).val()},SetHiddenValue:function(n,t){$(this.GetJqueryId(n)).val(t)},GetTextBoxValue:function(n){return $(this.GetJqueryId(n)).val()},SetTextBoxValue:function(n,t){$(this.GetJqueryId(n)).val(t).change();$(this.GetJqueryId(n)).attr("value",t)},IsCheckBoxCheck:function(n){return $(this.GetJqueryId(n)).prop("checked")},SetCheckBoxCheck:function(n,t){$(this.GetJqueryId(n)).prop("checked",t)},GetDropDownValue:function(n){return $(this.GetJqueryId(n)).val()},SetDropDown:function(n,t){$(this.GetJqueryId(n)).val(t)},SetDropDownValueByText:function(n,t){$(this.GetJqueryId(n)+" option:contains("+t+")").attr("selected","selected")},ClearDropDownList:function(n){$(this.GetJqueryId(n)).empty()},AddOptionToDropdown:function(n,t,i){$(this.GetJqueryId(n)).append($("<option><\/option>").attr("value",t).text(i))},GetDropDownSelectedText:function(n){return $(this.GetJqueryId(n)+" option:selected").text()},GetRadioSelectedValue:function(n){var t="",i=$("input[type='radio'][name='"+n+"']:checked");return i.length>0&&(t=i.val()),t},SetLabelText:function(n,t){$(this.GetJqueryId(n)).html(t)},GetLabelText:function(n){return $(this.GetJqueryId(n)).html()},ShowBootStrapModal:function(n){$(this.GetJqueryId(n)).modal("show")},HideBootStrapModal:function(n){$(this.GetJqueryId(n)).modal("hide")},ShowItem:function(n){var t=this.GetJqueryId(n);$(t).removeClass("hidden")},HideItem:function(n){var t=this.GetJqueryId(n);$(t).addClass("hidden");$(t).removeClass("show")},ShowItemByClass:function(n){n.startsWith(".")||(n="."+n);$(n).removeClass("hidden")},HideItemByClass:function(n){n.startsWith(".")||(n="."+n);$(n).removeClass("show");$(n).addClass("hidden")},RefreshBootstrapTable:function(n,t){IBI.BootstrapTable.Refresh(n,t)},GetBootstrapTableData:function(n){return IBI.BootstrapTable.GetData(n)},IsBootstrapTableInCardView:function(n){return IBI.BootstrapTable.IsInCardView(n)},SetHtml:function(n,t){var i=this.GetJqueryId(n);$(i).html(t)},ClearHtml:function(n){var t=this.GetJqueryId(n);$(t).empty()},AddDataToBootstrapTable:function(n,t){IBI.BootstrapTable.AddDataTo(n,t)},AppentHtmlToElement:function(n,t){$(this.GetJqueryId(n)).append(t)}},Storage:{GetKeyName:function(n,t){var i=IBI.Utils.IsNotNull(n)&&IBI.Utils.IsNotEmpty(n)?n+"-":"";return i+t},SetSessionData:function(n,t,i){var r=this.GetKeyName(n,t);sessionStorage.setItem(r,JSON.stringify(i))},SetLocalData:function(n,t,i){var r=this.GetKeyName(n,t);localStorage.setItem(r,JSON.stringify(i))},GetSessionData:function(n,t){return JSON.parse(sessionStorage.getItem(this.GetKeyName(n,t)))},GetLocalData:function(n,t){return JSON.parse(localStorage.getItem(this.GetKeyName(n,t)))}}}}();